@startuml
title Obtener costo anual de la materia prima

control generateData.controller.js as C
boundary getBom.usecase.js as UC
boundary bom.repository.js as R
boundary getAnnualPrimaMaterialCost.js as S
entity bom.model.js as M
database DB as DB


C - UC generateExcel(robloxData)
activate UC

UC - UC const bomId = n roblox.processesInProductionLine.bom.bomId

UC - R const bom = n bomRepository.getBom(bomId)
activate R

R - M getBom(bomId)
activate M

M - DB Bom.findById(bomId)
activate DB

DB -- M bom
deactivate DB

M -- R bom
deactivate M

R --UC bom

deactivate R

UC - UC const subTotalBom = bom.subtotal

UC - UC const customerOrder = nrobloxData.customerOrder
UC - UC const quality =n robloxData.productionLine.quality
UC - UC const anualCapacity =n robloxData.annualCapacity

UC - SWHO const wareHouseOrder = ngetWareHouseOrder(customerOrder, quality)
activate SWHO
    SWHO - SWHO customerOrder  quality
    SWHO -- UC wareHouseOrder
deactivate SWHO



activate S
UC- S const annualPrimaMaterialCost= ngetAnnualPrimaMaterialCost(wareHouseOrder, subTotalBom)
S - UC wareHouseOrder  subTotalBom
deactivate S
deactivate UC
@enduml